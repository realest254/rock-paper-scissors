<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Rock-Paper-Scissors</title>
    </head>
    <body>
        <button id="btn" value="rock">Rock</button>
        <button id="btn" value="paper">Paper</button>
        <button id="btn" value="scissors">Scissors</button>
        <div class="results"></div>
        <script>
            const btns = document.querySelectorAll('button');
            const results = document.querySelector('div');

            let getComputerChoice = () => {
                const choices = ["rock","paper","scissors"];
                let index = Math.floor(Math.random () *choices.length);
                return choices[index];
            }

            let playerCount = 0;
            let compCount = 0;
            
            btns.forEach(function(btn){
                btn.addEventListener('click',() => {
                    if (compCount < 5 && playerCount < 5){
                        const playerChoice = btn.value;
                        const computerChoice = getComputerChoice();
                        if (computerChoice == playerChoice) {
                            results.textContent = "It's a draw";
                        } else if ((computerChoice=="paper" && playerChoice=="rock")|| (computerChoice == "rock" && playerChoice == "scissors")|| (computerChoice == "scissors" && playerChoice == "paper")){
                            compCount++;  
                            results.textContent =`computer chose ${computerChoice}, computer won!!`;
                            const para = document.createElement('p');
                            para.textContent = `player: ${playerCount}  computer:${compCount}`;
                            results.appendChild(para);
                        } else {
                            playerCount++;   
                            results.textContent =`computer chose ${computerChoice}, you won`;
                            const para = document.createElement('p');
                            para.textContent = ` player: ${playerCount}  computer:${compCount}`;
                            results.appendChild(para);
                        }
                        if (compCount === 5) {
                            results.textContent = `Computer won!! Computer scored ${compCount} you scored ${playerCount}`;
                        }else if (playerCount === 5) {
                            results.textContent = `you won !! you scored ${playerCount} computer scored ${compCount}`;
                        }
                    }
                });
            });
            
        </script>
        
    </body>
</html>